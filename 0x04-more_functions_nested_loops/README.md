nested loops and more functions
